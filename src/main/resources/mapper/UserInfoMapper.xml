<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- JAVA와 연결할 Mapper 파일 설정 -->
<mapper namespace="kopo.poly.persistance.mapper.IUserInfoMapper">

	<!-- 회원 등록 쿼리 -->
	<insert id="InsertUserInfo" parameterType="UserInfoDTO">
		INSERT INTO USER_INFO
			(
				USER_SEQ, USER_ID, USER_NAME, PASSWORD, EMAIL, ADDR1, ADDR2,
		      	REG_DT
			)
		VALUES(
			(SELECT NULLIF (MAX(A.USER_SEQ),0)+1 FROM USER_INFO A),
			#{user_id}, #{user_name}, #{password}, #{email}, #{addr1}, #{addr2}, SYSDATE()
		)
	</insert>

	<select id="idCheck" parameterType="String" resultType="int">
		SELECT COUNT(USER_ID) FROM USER_INFO WHERE USER_ID = #{id}
	</select>


			
</mapper>